# Part 2: LangChain 기초 리뷰 결정사항

> 스터디 일자: 2026-02-28 (토) 오전 11:47, 약 85분
> 참석자: 송태영(발표), L종훈, S종훈, 참석자4

---

## 반영 확정

### 1. 전체 분량 축소

- **현재**: 2,233줄 (전체 교안 중 최대)
- **목표**: 현재의 2/3 이하로 축소
- **근거**: 회의 전원 합의. "너무 길다", "좀 다이어트를 시켜야 될 필요가 있다" (참석자 1)

### 2. Multimodal 섹션 대폭 축소 (섹션 2.7, L717~L991)

- **현재**: 약 270줄. 이미지(URL/Base64/파일ID), PDF, 오디오, 비디오 모두 다룸
- **변경**: 이미지 URL 방식 + Base64 방식만 본문에 유지. PDF/오디오/비디오 및 프로바이더 특화 내용(OpenAI 파일 API 등) 제거 또는 참조 링크로 대체
- **근거**: "소개를 하는 건 좋은데 좀 과하다" (참석자 1), "프로바이더 특화 내용 다 빼버리고 LangChain 엔드유저용 인터페이스 기준으로만 설명하자" (참석자 3), "멀티모달 세션을 별도 블록으로 빼서 뒤로 넘기거나 기본만 설명하자" (참석자 2)

### 3. ToolRuntime 축소 (섹션 4, L1180~L1492)

- **현재**: 약 310줄. Agent 상태, 컨텍스트, Store, 스트림, Tool Call ID 등 상세 설명
- **변경**: 소개 수준으로 대폭 축소. "이런 기능이 있다" 정도만 남기고, 상세 내용은 후속 파트(MCP/RAG 등)로 이관 검토
- **근거**: "여기에 와야 되는지 잘 모르겠다" (참석자 1), "MCP랑 묶어서 뒤에 빼는 게 좋지 않을까" (참석자 3), "너무 과하다" (참석자 1). 초급 학습자가 아직 Agent를 만들어본 적 없는 상태에서 Agent 상태 접근 코드를 만나면 혼란. 대응 소스 파일도 부재

### 4. Pydantic 스키마 섹션 축소 (섹션 5, L1495~L1618)

- **현재**: Field 설명, 검증 규칙(ge/le), Enum, List, 중첩 모델 등 상세 설명
- **변경**: "이런 게 있다" 소개 수준으로 축소. 독스트링 + 타입힌트만으로도 기본 동작은 충분하므로, Pydantic은 고급/심화로 안내
- **근거**: "파이덴틱 없어도 독스트링 잘 쓰고 타입힌트 잘 줬으면 잘 돌아간다" (참석자 3), "수단일 뿐" (참석자 2), "소개하는 정도로 괜찮을 것 같다" (참석자 1)

### 5. 교안 라인 참조 오류 수정 (6건)

- L105: `01_chat_models.py 라인 10-20` → 실제 L39~L50
- L205: `01_chat_models.py 라인 30-80` → 실제 L129~
- L269: `01_chat_models.py 라인 90-130` → 실제 L81~L101
- L1061: `03_tools_basic.py 라인 10-30` → 실제 L32~L36
- L1172: `03_tools_basic.py 라인 40-80` → 실제 위치 불일치
- **근거**: 태영 리뷰에서 전수 확인

### 6. 교안 파일명 오류 수정 (2건)

- L1531: `03_tools_basic.py 라인 90-120` → **`04_tools_advanced.py`** L40~L77
- L1618: `03_tools_basic.py 라인 130-180` → **`04_tools_advanced.py`** L301~
- **근거**: 태영 리뷰에서 확인. 섹션 5(Tools 고급) 내용이 잘못된 파일을 가리킴

### 7. deprecated API 수정

- `from langchain.agents import create_agent` → `from langgraph.prebuilt import create_react_agent` (L366, L874, L909)
- `04_tools_advanced.py` L31: `validator` → `field_validator` (Pydantic v2)
- `04_tools_advanced.py` L70: `.schema()` → `.model_json_schema()` (Pydantic v2)
- **근거**: 태영 리뷰. LangChain 1.x는 Pydantic v2 사용

### 8. 모델명 최신화

- Gemini 모델: 1.5 → 2.5로 업데이트 (참석자 2가 실행 시 버전 불일치 겪음)
- Anthropic 모델 ID 검증: `claude-sonnet-4-5-20250929` 등 실제 ID와 일치하는지 확인
- Azure OpenAI `gpt-4.1` 존재 여부 확인
- **근거**: "이 자료가 굉장히 좀 아웃오브데이트 돼가지고 1.5 기준으로 돼 있는데 지금은 2.5" (참석자 2)

### 9. eval() 보안 경고 추가

- `05_tool_calling.py` L79: `eval(expression)` 사용에 대해 최소한 경고 주석 추가, 또는 안전한 대안(`ast.literal_eval`, `numexpr.evaluate`)으로 교체
- **근거**: 태영 리뷰. 학습자가 패턴을 그대로 복사할 위험

### 10. 셋업 가이드 가시성 향상

- 기존 셋업 가이드(`SETUP_GUIDE.md`)로의 링크/안내를 교안 초반부에 더 명확하게 표시
- **근거**: 참석자 2가 env 로딩, API 키 설정, 실행 환경 문제로 초반에 막혔음. "셋업 가이드가 있네요" — 존재는 하지만 눈에 안 띄는 상태

---

## 보류/기각

### 보류 1: ToolRuntime을 별도 파트로 분리

- **내용**: ToolRuntime 내용을 Part 2에서 완전히 빼고 별도 파트(2.5 또는 Part 4~5)로 만드는 방안
- **사유**: "파트를 만들기보다는 그냥 줄이고, 뒷 파트에서 이해할 수 있는 수준으로만 줄이면 어떨까" (참석자 1). 뒤쪽 파트도 분량이 만만치 않아 별도 파트 신설은 부담. 일단 축소 후 재평가
- **상태**: 축소 반영 후 재검토

### 보류 2: 섹션 배치 순서 변경 (3→5→4→6)

- **내용**: 태영 리뷰에서 제안한 섹션 재배치
- **사유**: ToolRuntime(섹션 4) 자체를 대폭 축소하기로 했으므로, 축소 후 재배치 필요성 재평가. 축소되면 현재 순서에서도 난이도 급등 문제가 완화될 수 있음
- **상태**: 축소 반영 후 재검토

### 보류 3: 프로바이더별 병렬 예제 제공

- **내용**: OpenAI/Anthropic/Gemini 각각에 대해 별도 코드 흐름을 제공할지
- **사유**: `init_chat_model()`이 통합 인터페이스이므로 모델명만 바꾸면 됨. 별도 병렬 예제는 불필요하다는 쪽으로 의견 수렴. 단, 섹션 1(Chat Models)에서 프로바이더별 설정 예제는 현행 유지
- **상태**: 현행 유지 (별도 조치 불필요)

### 보류 4: async 도구 예제 추가

- **내용**: 태영 리뷰에서 제안한 async tool 예제 최소 1개 추가
- **사유**: 회의에서 async/병렬 실행 관련 논의가 있었으나 명확한 결론 없음. 분량 축소가 우선이므로 추가 콘텐츠는 후순위
- **상태**: 분량 축소 완료 후 재검토

### 보류 5: 난이도 표기 상향

- **내용**: ⭐⭐(초급) → ⭐⭐⭐(초중급) 상향, 또는 섹션별 난이도 표시 추가
- **사유**: ToolRuntime/Pydantic 축소 후 실질 난이도가 낮아질 수 있으므로, 축소 완료 후 재평가
- **상태**: 축소 반영 후 재검토

### 기각: pip vs uv 통일

- **내용**: 설치 명령어를 pip 또는 uv 하나로 통일
- **사유**: "둘 다 주고 원하는 취향에 따라" (참석자 1), "pip로만 설명 써 있어도 상관없고, UV 쓰고 싶으면 `uv pip`를 쓰십시오 한 줄이면 됨" (참석자 3). 공식 문서도 둘 다 제공. 현행 유지
- **상태**: 기각 (현행 유지)

---

## 후속 액션

| 순번 | 액션 | 담당 | 상태 |
| --- | --- | --- | --- |
| 1 | L종훈 리뷰 작성 (`review_L종훈.md`) | L종훈 | 미완 |
| 2 | S종훈 리뷰 작성 (`review_S종훈.md`) | S종훈 | 미완 |
| 3 | 본 decisions.md 기반 `agent_requests.md` 작성 | 태영 | 미완 |
| 4 | agent_requests.md 기반 교안/코드 수정 | 태영 (AI 활용) | 미완 |
| 5 | 수정본 리뷰어 컨펌 | L종훈, S종훈 | 미완 |
